<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jQuery Mobile: Demo of approvals</title>
    <link rel="stylesheet" href="css/jquery.mobile-1.1.0.min.css"/>
    <script src="js/jquery-1.7.2.min.js"></script>
    <script src="js/jquery.mobile-1.1.0.min.js"></script>
    <script src="js/functions.js"></script>
    <script>
        $(function()
        {
            // Handler for .ready() called.
            var localStorageSupport = supports_local_storage();
            $("#localStorageValue").html("" + localStorageSupport);

            // We need to build a list based upon the items in a json array
            // We need to build a list based upon the items in a json array
//            var text = '<li><a href="#">Acura</a></li><li><a href="#">Audi</a></li>';
//            $("#dataList").html( text );
        });

        function resetStore()
        {
            var json = [];
            localStorage["com.adv.items"] = JSON.stringify(json);
        }

        function addToStore()
        {
            var storeValue = localStorage["com.adv.items"];
            var json = JSON.parse(storeValue);
            json.push( { key:3, command:'approve' } );
            localStorage["com.adv.items"] = JSON.stringify(json);
        }

        function displayStore()
        {
            // Get a storage item for the list of saved items
            var storeValue = localStorage["com.adv.items"];
            alert("stored items are " + storeValue );
        }
    </script>
</head>
<body>
<div data-role="page" data-theme="b" id="home-page">

    <div data-role="header">
        <h1>Local Storage Demo</h1>
    </div>

    <div data-role="content">
        <ul data-role="listview" data-inset="true" data-filter="true" id="dataList">
            <li><a href="#">Acura</a></li>
            <li><a href="#">Audi</a></li>
            <li><a href="#">BMW</a></li>
            <li><a href="#">Cadillac</a></li>
            <li><a href="#">Ferrari</a></li>
        </ul>
    </div>

    <div data-role="footer">
        <a href="#about-page">About</a>
        <a onclick="resetStore()">Reset Store</a>
        <a onclick="addToStore()">Add Item</a>
        <a onclick="displayStore()">Display Store</a>
    </div>

</div>

<div data-role="page" data-theme="b" id="about-page" data-add-back-btn="true">
    <div data-role="header">
        <h1>Useful settings</h1>
    </div>
    <div data-role="content">
        <ul data-role="listview" data-inset="true">
            <li>
                Local storage support
                <div style="float:right;" id="localStorageValue">Unknown</div>
            </li>
        </ul>

    </div>
    <div data-role="footer">
        <h4><a href="#">Privacy</a></h4>
    </div>
</div>
<!--About page Ends-->

</body>
</html>